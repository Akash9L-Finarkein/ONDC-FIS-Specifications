summary: Renew Health Insurance
details:
  - description: Detailed process of renewing a Health Insurance
    mermaid: >-
      sequenceDiagram
        title Order Fulfillment
        participant Buyer Platform (BAP)
        participant Insurer Platform (BPP)
        Insurer Platform (BPP)->>Buyer Platform (BAP):on_confirm
        Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
        Insurer Platform (BPP)->>Buyer Platform (BAP):on_update
        Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
        Insurer Platform (BPP)->>Buyer Platform (BAP):on_update
        Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
references: if any
steps:
  - summary: Insurer confirms the health insurance order & provides the claim form URL.
    api: on_confirm
    details:
      - description: Insurer confirms the health insurace and provides the confirmation details.
        mermaid: >-
          sequenceDiagram
            title Order Fulfillment
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_confirm
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_update
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_update
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
    reference: if any
    example:
      value:
        $ref: "../../examples/health-insurance/on_confirm/on_confirm-request_1.yaml" 
  - summary: Buyer app redirected to renew url page.
    api: redirect
    details:
      - description: Buyer app will be redirected to new page, using the link provided in the previous step
    reference: if any
    example:
      value:
        $ref: "../../examples/health-insurance/forms/claim-form.html"
  - summary: Provider platform sends unsolicated update.
    api: on_update
    details:
      - description: Provider platform sends unsolicated update with payment link.
        mermaid: >-
          sequenceDiagram
            title Order Fulfillment
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_confirm
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_update
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_update
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
    reference: if any
    example:
      value:
        $ref: "../../examples/health-insurance/on_update/on_update_renew.yaml"
  - summary: Buyer app redirected to payment url, using the link provided in the previous step
    api: redirect
    details:
      - description: Buyer app redirected to payment url, using the link provided in the previous step
    reference: if any
    example:
      value:
        $ref: "../../examples/health-insurance/forms/claim-form.html"
  - summary: Provider platform sends unsolicated update.
    api: on_update
    details:
      - description: Provider platform sends unsolicated update with updated payment info.
        mermaid: >-
          sequenceDiagram
            title Order Fulfillment
            participant Buyer Platform (BAP)
            participant Insurer Platform (BPP)
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_confirm
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_update
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
            Insurer Platform (BPP)->>Buyer Platform (BAP):on_update
            Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
    reference: if any
    example:
      value:
        $ref: "../../examples/health-insurance/on_update/on_update_renew.yaml"
  
  # - summary: Buyer app seeks the most recent renew status update.
  #   api: status
  #   details:
  #     - description: Buyer app requests the Insurer to provide the latest status of the health insurance application.
  #       mermaid: &status >- 
  #         sequenceDiagram
  #           title Order Fulfillment
  #           participant Buyer Platform (BAP)
  #           participant Insurer Platform (BPP)
  #           rect rgb(191, 223, 255)
  #           Buyer Platform (BAP)->>Insurer Platform (BPP): status
  #           Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
  #           end
  #           Insurer Platform (BPP)->>Buyer Platform (BAP):on_status
  #           Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
  #   reference: if any
  #   example:
  #     value:
  #       $ref: "../../examples/health-insurance/status/status-request-form-ped.yaml"
  # - summary: Insurer shares the latest claim status.
  #   api: on_status
  #   details:
  #     - description: Insurer provides the Buyer with latest update of form status(Form Processing).
  #       mermaid: &onStatus >-
  #         sequenceDiagram
  #           title Order Fulfillment
  #           participant Buyer Platform (BAP)
  #           participant Insurer Platform (BPP)
  #           Buyer Platform (BAP)->>Insurer Platform (BPP): status
  #           Insurer Platform (BPP)-->>Buyer Platform (BAP):ACK
  #           rect rgb(191, 223, 255)
  #           Insurer Platform (BPP)->>Buyer Platform (BAP):on_status
  #           Buyer Platform (BAP)-->>Insurer Platform (BPP): ACK
  #           end   
  #   reference: if any
  #   example:
  #     value:
  #       $ref: "../../examples/health-insurance/on_status/on_status_renew_processing.yaml"
  # - summary: Buyer app seeks the most recent claim status update.
  # #   api: status
  # #   details:
  # #     - description: Buyer app requests the Insurer to provide the latest status of the health insurance application.
  # #       mermaid: *status
  # #   reference: if any
  # #   example:
  # #     value:
  # #       $ref: "../../examples/health-insurance/status/status-request-form-ped.yaml"
  # - summary: Insurer provides the Buyer with latest update of form status(Form Completed) .
  #   api: on_status
  #   details:
  #     - description: Insurer provides the Buyer with latest update of the form status
  #       mermaid: *onStatus 
  #   reference: if any
  #   example:
  #     value:
  #       $ref: "../../examples/health-insurance/on_status/on_status_renew_completed.yaml"
                           
          